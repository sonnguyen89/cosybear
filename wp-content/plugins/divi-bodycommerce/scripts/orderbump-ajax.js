jQuery(function(a){a("#bc_order_bump").change(function(){if(this.checked)var e="true";else e="false";if(a(".variation_is_here").length){var r={},t=a(this).closest(".variations_form");check=!0,variations=t.find("select[name^=attribute]"),variations.length||(variations=t.find("[name^=attribute]:checked")),variations.length||(variations=t.find("input[name^=attribute]")),a(".variations_form select[name^=attribute]").each(function(e,t){var i,o,n=a(this),c=n.attr("name"),d=n.val();n.removeClass("error"),0===d.length?(i=c.lastIndexOf("_"),o=c.substring(i+1),n.addClass("required error").before('<div class="ajaxerrors"><p>Please select '+o+"</p></div>"),check=!1):r[c]=d});var i=a(".bc_order_bump_cont .product_id").val(),o=a(".bc_order_bump_cont .variation_id").val(),n=a(".bc_order_bump_cont .main_product_id").val(),c=a(".bc_order_bump_cont .variation_is_here").val(),d=r}else i=a(".bc_order_bump_cont .product_id").val(),n=a(".bc_order_bump_cont .main_product_id").val(),o="none",c="none",d="";data={action:"divi_bodycommerce_orderbump_handler",product_id:i,main_product_id:n,variation_id:o,variation:c,variation_data:d,added:e},jQuery.ajax({url:ajax_object.ajax_url,data:data,type:"POST",beforeSend:function(a){jQuery("body").trigger("update_checkout")},success:function(a){a&&jQuery("body").trigger("update_checkout")}})})});
